<div class="container-fluid">
    <button @onclick="@OnHandleCreateNote">addNew</button>
    <ul>
        @for (int i = 0; i < MoodyService.Notes.Count(); i++)
        {
            int index = i;
            MoodyData Note = MoodyService.Notes[i];

            bool isLast = index == MoodyService.Notes.Count() - 1;
            bool isActive = Note.Id == MoodyService.Md.ActiveNoteId;

            <li class="@(isLast ? "" : "mb-2")">
                <button class="p-4 flex w-full hover:bg-zinc-700 @(isActive ? "bg-zinc-900" : "")"
                    @onclick="@(() => OnHandleChangeActiveNote(Note))">@Note.Title</button>
            </li>
        }
    </ul>
</div>

@code {
    [Parameter]
    public Action<MoodyData>? HandleChangeActiveNote { get; set; }

    private void OnHandleChangeActiveNote(MoodyData moodyData)
    {
        HandleChangeActiveNote?.Invoke(moodyData);
    }

    [Parameter]
    public Action? HandleCreateNote { get; set; }

    private void OnHandleCreateNote()
    {
        HandleCreateNote?.Invoke();
    }
}