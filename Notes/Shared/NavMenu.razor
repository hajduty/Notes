@using Notes.Data
@inject MoodyService MoodyService

<ul>
    @for (int index = 0; index < list.Count(); index++)
    {
        int i = index;
        string str = list[i];
        bool isLast = i == list.Count() - 1;
        bool isActive = i == MoodyService.Md?.ActiveNoteId;

        <li class="@(isLast ? "" : "mb-2")">
            <button class="p-4 flex w-full hover:bg-zinc-700 @(isActive ? "bg-zinc-900" : "")"
                @onclick="@(() => HandleChangeActiveNoteId(i))">@list[i]</button>
        </li>
    }
</ul>

@code {
    public List<string> list = new List<string> { "my first note", "my second note" };

    private void HandleChangeActiveNoteId(int index)
    {
        MoodyService.Md.ActiveNoteId = index;
    }
}
